<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Projeto: {{ projeto.titulo }}</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <h1>Projeto: {{ projeto.titulo }} - {{ projeto.turma }}</h1>
    <form method="POST">
        <table>
            <tr>
                <th>Aluno</th>
                <th>Nota 1</th>
                <th>Nota 2</th>
                <th>MÃ©dia</th>
            </tr>

            {% for i in range(10) %}
            <tr>
                <td><input type="text" name="aluno_{{ i }}" value="{{ projeto.alunos[i].nome if projeto.alunos and i < projeto.alunos|length else '' }}"></td>
                <td><input type="number" step="0.01" name="nota1_{{ i }}" value="{{ projeto.alunos[i].nota1 if projeto.alunos and i < projeto.alunos|length else '' }}"></td>
                <td><input type="number" step="0.01" name="nota2_{{ i }}" value="{{ projeto.alunos[i].nota2 if projeto.alunos and i < projeto.alunos|length else '' }}"></td>
                <td><input type="number" step="0.01" name="media_{{ i }}" readonly value="{{ projeto.alunos[i].media if projeto.alunos and i < projeto.alunos|length else '' }}"></td>
            </tr>
            {% endfor %}
        </table>
        <br>
        <button type="submit">Salvar Notas</button>
    </form>

    <script>
        document.addEventListener('input', function () {
            for (let i = 0; i < 10; i++) {
                let nota1 = parseFloat(document.querySelector(`[name="nota1_${i}"]`).value) || 0;
                let nota2 = parseFloat(document.querySelector(`[name="nota2_${i}"]`).value) || 0;
                let media = (nota1 + nota2) / 2;
                document.querySelector(`[name="media_${i}"]`).value = media.toFixed(2);
            }
        });
    </script>
</body>
</html>
